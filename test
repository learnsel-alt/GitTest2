import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class CanaryApp {

    // Placeholder for Canary Name
    private static final String CANARY_NAME = "Governance";

    public static void main(String[] args) {
        // Create the main frame
        JFrame frame = new JFrame("Canary Management");
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.setSize(400, 300);
        frame.setLayout(new GridBagLayout());
        GridBagConstraints gbc = new GridBagConstraints();

        // Label for Canary Name
        JLabel canaryLabel = new JLabel("Canary Name: " + CANARY_NAME);
        gbc.gridx = 0;
        gbc.gridy = 0;
        gbc.gridwidth = 2;
        gbc.anchor = GridBagConstraints.WEST;
        frame.add(canaryLabel, gbc);

        // Blank space (2 lines)
        gbc.gridy = 1;
        frame.add(Box.createVerticalStrut(20), gbc);

        // Start Button
        JButton startButton = new JButton("Start");
        gbc.gridy = 2;
        gbc.gridwidth = 1;
        gbc.anchor = GridBagConstraints.WEST;
        frame.add(startButton, gbc);

        // Stop Button
        JButton stopButton = new JButton("Stop");
        gbc.gridx = 1;
        frame.add(stopButton, gbc);

        // Blank space (2 lines)
        gbc.gridx = 0;
        gbc.gridy = 3;
        gbc.gridwidth = 2;
        frame.add(Box.createVerticalStrut(20), gbc);

        // Update Secret Button
        JButton updateSecretButton = new JButton("Update Secret");
        gbc.gridy = 4;
        gbc.gridwidth = 1;
        gbc.anchor = GridBagConstraints.WEST;
        frame.add(updateSecretButton, gbc);

        // Placeholder for dropdown and text field (initially hidden)
        String[] secretOptions = {"Secret1", "Secret2", "Secret3"};
        JComboBox<String> secretDropdown = new JComboBox<>(secretOptions);
        JTextField secretTextField = new JTextField(10);

        secretDropdown.setVisible(false);
        secretTextField.setVisible(false);

        // Dropdown and Text Field Layout
        gbc.gridy = 6;
        gbc.gridwidth = 1;
        frame.add(secretDropdown, gbc);

        gbc.gridx = 1;
        frame.add(secretTextField, gbc);

        // Submit Button (initially hidden)
        JButton submitButton = new JButton("Submit");
        submitButton.setVisible(false);
        gbc.gridx = 0;
        gbc.gridy = 7;
        frame.add(submitButton, gbc);

        // Reset Button (initially hidden)
        JButton resetButton = new JButton("Reset");
        resetButton.setVisible(false);
        gbc.gridx = 1;
        frame.add(resetButton, gbc);

        // Action listener for Update Secret button
        updateSecretButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                gbc.gridy = 5;
                frame.add(Box.createVerticalStrut(10), gbc); // Add 1 line gap
                secretDropdown.setVisible(true);
                secretTextField.setVisible(true);
                submitButton.setVisible(true);
                resetButton.setVisible(true);
                frame.revalidate(); // Refreshes the layout without resizing the frame
            }
        });

        // Action listener for Start button
        startButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                startCanary();
            }
        });

        // Action listener for Stop button
        stopButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                stopCanary();
            }
        });

        // Action listener for Submit button
        submitButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                String selectedSecret = (String) secretDropdown.getSelectedItem();
                String enteredText = secretTextField.getText();
                System.out.println("Submitted Secret: " + selectedSecret + ", Entered Text: " + enteredText);
                // Implement the submit logic here
            }
        });

        // Action listener for Reset button
        resetButton.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                secretDropdown.setSelectedIndex(0); // Reset dropdown to first item
                secretTextField.setText(""); // Clear text field
                System.out.println("Form reset.");
            }
        });

        // Show the frame
        frame.setVisible(true);
    }

    // Placeholder method for starting the canary
    private static void startCanary() {
        System.out.println("Canary started.");
        // Implement the start logic here
    }

    // Placeholder method for stopping the canary
    private static void stopCanary() {
        System.out.println("Canary stopped.");
        // Implement the stop logic here
    }
}
